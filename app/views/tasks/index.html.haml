.row.align-items-center
  .col-auto.mr-auto
    %h1 Tasks
  .col-auto
    =link_to((content_tag(:i, '', class: 'fas fa-plus mr-1')+ "New Task"), new_task_path, class: 'btn btn-primary btn-sm')
.row
  .table-responsive
    %table.table
      %caption
        ="#{@tasks.count} Tasks"
      %tbody
        -@tasks.each do |t|
          %tr{class: "#{'row-completed' if t.completed?}"}
            %td.subtle
              =t.id
            %th
              =link_to t.title, task_path(t)
              %br
              %small.desc= t.description
            %td.nowrap= task_due_date(t)
            %td.text-center
              - if !t.completed?
                = link_to fa_icon('fa-check'), task_path(t, task: {completed: true, completed_at: Time.now}), method: :put, class: 'btn btn-sm btn-success'
              - else
                = link_to fa_icon('fa-undo'), task_path(t, task: {completed: false, completed_at: ''}), method: :put, class: 'btn btn-sm btn-light'
